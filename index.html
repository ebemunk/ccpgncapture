<!doctype html>
<html>
	<head>
		<title>chesscomutils - UI Enhancements for Chess.com Live Chess</title>
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
		<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.0/css/font-awesome.css" rel="stylesheet">
		<link href='http://fonts.googleapis.com/css?family=Oxygen:400,300' rel='stylesheet' type='text/css'>
		<style>
			body {
				padding-top: 15px;
			}
			h1, h2, h3, h4, body {
				font-family: 'Oxygen' !important;
				font-weight: 300;
			}
			a {
				color: #c7254e;
			}
			a:hover {
				color: #E5718E;
			}
			.jumbotron {
				background-color: #B3D7B4;
				padding-bottom: 15px;
			}
			.jumbotron .infotext {
				font-size: 0.9em;
			}
			.jumbotron .disclaimer {
				font-size: 0.6em;
				color: #666;
			}
			.bookmarklet-box {
				background-color: #B3D7B4;
				border-radius: 5px;
				padding: 25px;
				height: 310px;
				position: relative;
			}
			.bookmarklet-box h3 {
				margin-top: 0;
				text-align: center;
			}
			.bookmarklet-box h4 {
			}
			.bookmarklet-box .info {
			}
			.bookmarklet-box ul {
				text-align: left;
				margin-bottom: 20px;
			}
			.bookmarklet-box .center a {
				bottom: 20px;
			}
			.box {
				margin-top: 30px;
			}
			kbd {
			  padding: 4px;
			  background-color: #f5f5f5;
			  border: 1px solid #ccc;
			  border-bottom: 1px solid #aaa;
			  border-radius: 4px;
				font-family: 'Oxygen';
				font-size: 0.8em;
			}
			.list-unstyled li {
				margin-left: 2em;
				margin-bottom: 0.45em;
			}
			#online-bookmarklet {
				cursor: move;
			}
		</style>
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-212741-7', 'ebemunk.github.io');
			ga('send', 'pageview');
		</script>
	</head>
	<body class="container">
		<div class="jumbotron">
			<h1>chesscomutils</h1>
			<h2>UI Enhancements for <a href="http://live.chess.com/live/" target="_blank">Chess.com Live Chess</a></h2>
			<p class="infotext">chesscomutils is a javascript bookmarklet that adds opening classification, keyboard shortcuts and PGN save functionality to the live chess interface.</p>
			<p class="disclaimer"><i class="fa fa-asterisk"></i> chesscomutils is not affiliated with <a href="http://www.chess.com/" target="_blank">Chess.com</a>. I'm just a player who enjoys watching games (too much!) and wanted some additional features.</p>
		</div>

		<img src="ss.png" title="chesscomutils in action" style="max-width: 100%">
		
		<div>
			<h3>About</h3>
			<p>I love the live chess on chess.com, and I thought some additions would make it even better. Specifically, showing the opening name like <a href="http://www.chesscube.com/" target="_blank">ChessCube</a> does, and saving games to my local disk in PGN format, like <a href="http://www.chessclub.com/" target="_blank">ICC</a>'s client. Then I thought I might as well add in some keyboard shortcuts for good measure, and here we are.</p>
			<p>Since javascript cannot access your local files, to get the PGN save functionality you need to have a local webserver with PHP enabled. More info on that can be found on the project's <code><a href="https://github.com/ebemunk/chesscomutils/blob/master/README.md" target="_blank">README.md</a></code></p>
		</div>
		
		<div class="row">
			<div class="col-md-4 col-md-offset-2 box">
				<div class="bookmarklet-box">
					<h3>Online</h3>
					<p class="info">
						This is the light version, easy to set up, updates automatically, but does not include PGN save.
					</p>
					<h4>Features</h4>
					<ul>
						<li>Opening Classification</li>
						<li>Keyboard Shortcuts</li>
					</ul>
					<div style="margin-top: 50px">
						<a href='javascript:"use strict";(function(files){if(typeof window.CC!="undefined"){if(CC.service_game_channel){cometd.unsubscribe(CC.service_game_channel);CC.service_game_channel=null}if(CC.game_all_channel){cometd.unsubscribe(CC.game_all_channel);CC.game_all_channel=null}clearInterval(CC.opening_checker);clearTimeout(CC.idle_avoidance)}if($("#ccutils_wrapper").length){$("#ccutils_opening").off();$("#ccutils_wrapper").remove();$("#ccutils_capture").off().parent().remove();$("#ccutils_keyboard_icon").off().remove()}else{$("#main_bc").css("margin-top","25px")}if(typeof window.Mousetrap!="undefined"){Mousetrap.reset()}window.CC={};$.each(files,function(index,file){$("#"+file.id).remove();$("<script/>").attr("src",file.url).attr("id",file.id).appendTo(body)})})([{url:"http://ebemunk.com/chesscomutils/openings.min.js",id:"openings"},{url:"http://direct.ebemunk.com/chesscomutils/ccutils-bundled.min.js",id:"ccutils"}]);' class="btn btn-default btn-lg btn-block" id="online-bookmarklet" title="Drag this to your Bookmarks bar!"><i class="fa fa-move"></i> chesscomutils</a>
					</div>
				</div>
			</div>
			<div class="col-md-4 box">
				<div class="bookmarklet-box">
					<h3>Local</h3>
					<p class="info">
						This is the full version. You need a local webserver (such as apache) and PHP to use it.
					</p>
					<h4>Features</h4>
					<ul>
						<li>Opening Classification</li>
						<li>Keyboard Shortcuts</li>
						<li>Save games to PGN file</li>
					</ul>
					<div style="margin-top: 30px">
						<a href="http://github.com/ebemunk/chesscomutils/" class="btn btn-default btn-lg btn-block" title="Snoop around in the code."><i class="fa fa-github"></i> Check it out on Github</a>
					</div>
				</div>
			</div>
		</div>
		
		<div>
			<h3>Setup</h3>

			<h4>Online</h4>
			<p>Drag the button above to your bookmarks bar (or save it as a bookmark). Afterwards, you can activate chesscomutils by clicking on the bookmark while you're in live chess. You will see the green bar appear below the menu.</p>
			<h4>Local</h4>
			<p>Refer to <code><a href="https://github.com/ebemunk/chesscomutils/blob/master/README.md" target="_blank">README.md</a></code> for setup details.</p>
		</div>

		<div>
			<h3>Usage</h3>
			
			<h4>Opening Classification</h4>
			<p>chesscomutils uses <a href="http://scid.sourceforge.net/" target="_blank">SCID</a>'s opening database to classify the current game. It will display <a href="http://en.wikipedia.org/wiki/Encyclopaedia_of_Chess_Openings" target="_blank">ECO</a> Code, Opening Name and the moves. It will also get the opening by position (by looking at <a href="http://en.wikipedia.org/wiki/Forsyth%E2%80%93Edwards_Notation" target="_blank">FEN</a>). This is more helpful when the game transposes to a common opening from a more unorthodox opening. Note: The classification will only be shown for the game which has its notation window visible on the screen. Currently multiple windows (when you pop-out a game window) are not supported :(</p>
			<p>The opening checker runs every 5 seconds by default, but you can force it to run by clicking on the green bar.</p>
			
			<h4>Keyboard Shortcuts</h4>
			<p>Keyboard shortcuts start with <kbd>Shift</kbd>+<kbd>C</kbd>, followed by the combination. (So you would press <kbd>Shift</kbd>+<kbd>C</kbd> followed by <kbd>S</kbd> to create a seek). Make sure you're not typing in a chat input etc. when pressing these keys.</p>
			<ul class="list-unstyled">
				<li><kbd>S</kbd> Seek game. This is the same as clicking the orange Start Game button.</li>
				<li><kbd>D</kbd> Offer Draw. This is the same as clicking the gray Draw button. <strong>Note:</strong> If you have simultaneous games, it will click on only the visible one. If the games are popped-out, it will click on all of them.</li>
				<li><kbd>R</kbd> Resign. This is the same as clicking the gray Abort/Resign button. <strong>Note:</strong> If you have simultaneous games, it will click on only the visible one. If the games are popped-out, it will click on all of them.</li>
				<li><kbd>Shift</kbd>+<kbd>R</kbd> Clean Refresh. Closes all tabs and refreshes the page. Easy way to close games and get Top Games tab opened again. chesscomutils will not be attached after refresh.</li>
				<li><kbd>Shift</kbd>+<kbd>A</kbd> Announce Opening. Outputs the opening (or position, if it's more specific) as a chat message. This will not work if there are any popped-out games. It also has a 5 second timer to prevent spamming.</li>
			</ul>
			
			<h4>Save to PGN File</h4>
			<p>If you're using the full version, chesscomutils will make an AJAX request to <code>writer.php</code>, which will save games (and keep appending games to the same file) defined in its config. See the notes on project <code><a href="https://github.com/ebemunk/chesscomutils/blob/master/README.md" target="_blank">README.md</a></code> for more information.</p>
			<p>By clicking on the 'Capture PGN' button you can toggle capturing the games as PGN format. Any game that finishes while PGN Capture is on will be saved to your defined location on disk. It will provide all the standards headers (except Time Control, which is bit tricky to get), ECO and Opening headers, as well as a non-standard Position header with the FEN classification. Note: ccutils will capture all games that finish while its active. This means having multiple games open (popped-out or not) will save all of them once they finish. Games are only saved on disk when they're ended.</p>
		</div>
		
		<div>
			<h3>Credits</h3>
			<p>I've had the pleasure of using these brilliant libraries:</p>
			<ul>
			<li><a href="https://github.com/jhlywa/chess.js" target="_blank">Chess.js</a> - very solid library, used for creating FEN from game state and saving file as PGN.</li>
			<li><a href="http://craig.is/killing/mice" target="_blank">Mousetrap.js</a> - increadibly easy to use, used for keyboard shortcuts.</li>
			<li><a href="http://scid.sourceforge.net/" target="_blank">SCID</a> Openings Database <code><a href="http://sourceforge.net/p/scid/code/ci/master/tree/scid.eco" target="_blank">scid.eco</a></code> - Contains an immense number of openings, incredibly comprehensive (and easy to parse as json :P). The software itself is a great free alternative to many other chess database GUIs.</li>
			</ul>
		</div>
		<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
		<script>
			$(function() {
				$('#online-bookmarklet')
					.on('click', function(e) {
						//dont inject to this site!
						ga('send', 'event', 'bookmarklet-link', 'click');
						e.stopPropagation();
						e.preventDefault();
						return false;
					})
					.on('dragstart', function(e) {
						ga('send', 'event', 'bookmarklet-link', 'dragged');
					});

				$('#github-link').on('click', function(e) {
					ga('send', 'event', 'github-link', 'click');
				});
			});
		</script>
	</body>
</html>